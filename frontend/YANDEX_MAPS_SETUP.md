# Настройка Яндекс Карт для проекта EcoSort

## Шаг 1: Получение API ключа Яндекс Карт

1. Перейдите на [Яндекс.Разработчики](https://developer.tech.yandex.ru/)
2. Войдите в свой аккаунт Яндекса или создайте новый
3. Создайте новое приложение:
   - Нажмите "Создать приложение"
   - Выберите "JavaScript API и HTTP Геокодер"
   - Заполните форму:
     - Название: "EcoSort Maps"
     - Описание: "Карты для приложения по переработке отходов"
     - Домен: `localhost` (для разработки)
     - Для продакшена добавьте ваш домен
4. Скопируйте полученный API ключ

## Шаг 2: Настройка API ключа в проекте

1. Откройте файл `frontend/src/config/yandexMaps.js`
2. Замените `YOUR_API_KEY_HERE` на ваш реальный API ключ:

```javascript
export const YANDEX_MAPS_CONFIG = {
    API_KEY: 'ваш_реальный_api_ключ_здесь',
    VERSION: '2.1',
    LANGUAGE: 'ru_RU'
};
```

## Шаг 3: Проверка работы

1. Запустите проект: `npm start`
2. Перейдите на страницу добавления пункта приема
3. Убедитесь, что карта загружается корректно
4. Попробуйте:
   - Кликнуть по карте для выбора точки
   - Найти адрес через поиск
   - Показать существующие точки

## Функциональность

### При создании нового пункта приема:

1. **Выбор местоположения**: 
   - Кликните по карте для установки точки
   - Используйте поиск для нахождения адреса
   - Ссылка на карту генерируется автоматически

2. **Просмотр существующих точек**:
   - Нажмите "Показать существующие точки"
   - Все созданные ранее точки отобразятся на карте
   - Кликните на любую точку для заполнения формы её данными

3. **Автозаполнение формы**:
   - При выборе существующей точки форма автоматически заполнится
   - Можно изменить данные перед сохранением

### Формат ссылок

Ссылки генерируются в формате:
```
https://yandex.ru/maps/?pt=долгота,широта&z=16&l=map
```

Пример:
```
https://yandex.ru/maps/?pt=37.6173,55.7558&z=16&l=map
```

## Безопасность

⚠️ **Важно**: 
- Не публикуйте API ключ в публичных репозиториях
- Используйте переменные окружения для продакшена
- Ограничьте домены в настройках API ключа

## Возможные проблемы

1. **Карта не загружается**:
   - Проверьте правильность API ключа
   - Убедитесь, что домен добавлен в настройки API ключа
   - Проверьте консоль браузера на ошибки

2. **Поиск не работает**:
   - Убедитесь, что API ключ имеет права на геокодирование
   - Проверьте подключение к интернету

3. **Точки не отображаются**:
   - Проверьте формат ссылок в базе данных
   - Убедитесь, что ссылки содержат параметр `pt` с координатами

## Дополнительные возможности

В будущем можно добавить:
- Кластеризацию точек при большом количестве
- Разные иконки для разных типов отходов
- Маршруты до пунктов приема
- Фильтрацию по типам принимаемого вторсырья 